{% extends 'base.html' %}

{% block title %}My Dashboard - WebAgency{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">My Dashboard</h1>

    <div class="mb-4">
        <a href="{% url 'book_appointment' %}" class="btn btn-primary">Schedule Appointment</a>
        <a href="{% url 'book_demo' %}" class="btn btn-primary">Request Demo</a>
        <a href="{% url 'service_list' %}" class="btn btn-text">Browse Services</a>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
        <!-- Orders -->
        <div class="card"
            style="background-color: var(--card-bg); padding: 2rem; border-radius: 0.5rem; box-shadow: var(--shadow);">
            <h2>My Orders</h2>
            <ul style="list-style: none; margin-top: 1rem;">
                {% for order in orders %}
                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
                    <strong>{{ order.service.title }}</strong> - ${{ order.service.price }}
                    <br>
                    <span style="font-size: 0.875rem; opacity: 0.7;">Status: {{ order.status }}</span>
                </li>
                {% empty %}
                <li>No orders yet.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Appointments -->
        <div class="card"
            style="background-color: var(--card-bg); padding: 2rem; border-radius: 0.5rem; box-shadow: var(--shadow);">
            <h2>My Appointments</h2>
            <ul style="list-style: none; margin-top: 1rem;">
                {% for appointment in appointments %}
                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
                    <strong>{{ appointment.date }}</strong>
                    <br>
                    {{ appointment.reason }}
                    <br>
                    <span style="font-size: 0.875rem; opacity: 0.7;">Status: {{ appointment.status }}</span>
                </li>
                {% empty %}
                <li>No appointments scheduled.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Demos -->
        <div class="card"
            style="background-color: var(--card-bg); padding: 2rem; border-radius: 0.5rem; box-shadow: var(--shadow);">
            <h2>My Demos</h2>
            <ul style="list-style: none; margin-top: 1rem;">
                {% for demo in demos %}
                <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
                    <strong>{{ demo.date }}</strong>
                    <br>
                    Product: {{ demo.product_interest }}
                    <br>
                    <span style="font-size: 0.875rem; opacity: 0.7;">Status: {{ demo.status }}</span>
                </li>
                {% empty %}
                <li>No demos requested.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}